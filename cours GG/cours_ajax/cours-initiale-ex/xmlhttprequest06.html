<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<title>xmlhttprequest06</title>


	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="screen.css" media="screen" />
</head>
	<body>
	<h4>XMLHttpRequest vérification et réponse</h4>
		<div id="code">
			
			<button id="btn">Envoyer</button>
		
		</div>
		<div id="printOut">Attente du serveur...</div>

		<script type="text/javascript">

			function getxhr(){
			var xhr=null;
			if(window.XMLHttpRequest){
			xhr=new XMLHttpRequest();
			}
				else {
				if(window.ActiveXObjet){
				xhr=new ActiveXObject("Microsoft.XMLHTTP");
				}
			}
			xhr.onreadystatechange=function(){
				if(xhr.readyState==4 && xhr.status==200){
				document.getElementById("printOut").innerHTML=xhr.status+" reçu du serveur - "+xhr.responseText;
				
				}
			}
			xhr.open("GET","image.html",true);
			xhr.send(null);
			}
			var btn=document.getElementById("btn");
				btn.addEventListener("click",getxhr,false);
		
		</script>

	</body>
</html>
