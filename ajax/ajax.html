<!DOCTYPE html>
<html lang="FR-fr">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
		<link rel="stylesheet" type="text/css" href="css/001mo.css">
		<link rel="stylesheet" type="text/css" href="css/ajax.css">
		<link rel="stylesheet" type="text/css" href="font-awesome-4.3.0/css/font-awesome.css">
	<!--[if IE]>
    <script type="text/javascript" src="js/modernizr.custom.78869.js">
    </script>
<![endif]-->
</head>
<body>

	<script type="text/javascript">
//  try{// désigne le code qui doit être essayé
// requeteAjax=new ActiveXObject('Microsoft.XMLHTTP');
// alert('Vous êtes sous IE');
// }
// catch(err){// Si aucune erreur n'est survenue le bloc de catch est ignoré on passe à ligne suivante
// try{
// requeteAjax=new ActiveXObject('Msxml2.XMLHTTP');
// alert('Vous êtes sous IE');
// }
//    catch(err){
//    	try{
//    	requeteAjax=new XMLHttpRequest();
//    	alert('Vous n\'êtes pas sous IE');
//    	}
//    	catch(err){
//    	requeteAjax=null;
//    	alert('Votre navigateur ne supporte pas AJAX');
//    	}
//    }
// }
		//Second
// function test(){
// var msg = String("L'objet XMLHttpRequest à été créé");
// try{
// 	xhr = new XMLHttpRequest();
// } catch(e){
// 	var XmlHttpVersion = new Array('MSXML2.XMLHTTP.6.0', 'MSXML2.XMLHTTP.5.0', 'MSXML2.XMLHTTP.4.0', 'MSXML2.XMLHTTP.3.0', 'MSXML2.XMLHTTP.2.0', 'MSXML2.XMLHTTP');
// 	for (var i = 0; i < XmlHttpVersion.length && !xhr; i++) {
// 		try{
// 			xhr = new ActiveXObject(XmlHttpVersion[i]);
// 		} catch(e){}
		
// 	}
// 	if (!xhr) 
// 		alert("L'objet XMLHTTP n'a pas été créé");
// 	affiche.innerHTML = msg+" "+xhr;
// 	}
// }
// window.addEventListener("load", test, true)
		//Troisieme
var xhr = null;
function getxhr(){
	if (window.XMLHttpRequest) {
		xhr = new XMLHttpRequest();
		alert("xhr est un " + typeof(xhr));
	} else if (window.activeXObject){
		xhr = new ActiveXObject("Microsoft.XMLHTTP");
		alert("xhr est un " + typeof(xhr));
	} else {
		alert("Votre navigateur n'est pas compatible avec AJAX");
	}

xhr.onreadystatechange=function(){
	// var monDiv=document.getElementById("PrintOut");
	// if (xhr.readyState==4 && xhr.status==200) {
	// 	alert("fichier transmis !");
	// 	monDiv.style.display="block";
	// 	monDiv.innerHTML="fichier transmis avec succes !";
	// }
	
}

xhr.open("GET","test.txt",true);
xhr.send(null);
}

var btn=document.querySelector("#btn");
btn.addEventListener("click",getxhr,false);
</script>
<h4 id="PrintOut">test</h4>
<button id="btn" onclick="getxhr()">ICI</button>

</body>
</html>